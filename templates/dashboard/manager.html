{% extends "base.html" %}

{% block title %}Manager Dashboard{% endblock %}

{% block content %}
<div style="padding: 20px 0;">
    <h1>🚢 Manager Dashboard</h1>
    <p>Welcome, {{ current_user.username }}!</p>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
            <h3>📋 Task Statistics</h3>
            <p>Total Tasks: {{ task_stats.total if task_stats else 0 }}</p>
            <p>Pending: {{ task_stats.pending if task_stats else 0 }}</p>
            <p>Completed: {{ task_stats.completed if task_stats else 0 }}</p>
        </div>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
            <h3>🚢 Fleet Overview</h3>
            <p>Active Vessels: {{ vessels|length if vessels else 0 }}</p>
            <p>Active Users: {{ users|length if users else 0 }}</p>
        </div>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
            <h3>⚠️ Alerts</h3>
            <p>Overdue Tasks: {{ overdue_tasks|length if overdue_tasks else 0 }}</p>
            <p>Failed Syncs: {{ failed_syncs_count if failed_syncs_count else 0 }}</p>
        </div>
    </div>
    
    <div style="margin-top: 40px;">
        <h3>🎉 Fleet Management System is Working!</h3>
        <p>Your PWA-compliant task management system is now operational.</p>
        <div style="margin-top: 20px;">
            <a href="{{ url_for('auth.logout') }}" class="btn">Logout</a>
        </div>
    </div>
</div>
{% endblock %}